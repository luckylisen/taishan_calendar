<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>排班與薪資明細</title>
    <style>
        body {
            font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif;
            font-size: 15px;
            background-color: #f8f9fa;
            color: #2e2d2d;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* 登錄遮罩層：全屏固定，背景模糊（毛玻璃效果） */
    #login-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.3); /* 半透明白色背景 */
        backdrop-filter: blur(10px); /* 關鍵：背景模糊濾鏡 */
        -webkit-backdrop-filter: blur(10px); /* 兼容 Safari */
        z-index: 99999; /* 確保在最上層 */
        display: flex;
        justify-content: center; /* 水平居中 */
        align-items: center;     /* 垂直居中 */
    }

    /* 登錄窗口小卡片 */
    .login-box {
        background-color: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        width: 300px;
        text-align: center;
        border: 1px solid rgba(255, 255, 255, 0.5);
    }

    .login-box h2 {
        margin-top: 0;
        margin-bottom: 20px;
        color: #333;
    }

    .login-input {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-sizing: border-box; /* 確保 padding 不會撐大寬度 */
        font-size: 16px;
    }

    .login-btn {
        width: 100%;
        padding: 10px;
        background-color: #007BFF;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .login-btn:hover {
        background-color: #0056b3;
    }

        .main-wrapper {
            display: flex;
            flex-direction: row;
            gap: 24px;
            max-width: 1200px;
            width: 100%;
        }

        /* 左側月曆區 */
        .container_l {
            flex: 2;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px #eeeded;
            padding: 20px;
        }

        /* 右側薪資區 */
        .container_r {
            flex: 1;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px #eeeded;
            padding: 20px;
            height: fit-content;
        }

        /* 導航標題 */
        .calendar-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .last_moon { font-size: 16px; color:#1976d2; font-weight: 600;}
        .this_moon { font-size: 16px; font-weight: 800; text-align: center;}
        .next_moon { font-size: 16px; color:#d1d0d0; font-weight: 600;}

        .calendar-table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed; 
        }

        .calendar-table th {
            border: 1px solid #1976d2;
            padding: 6px 0;
            font-weight: 600;
        }

        /* 星期表頭(1~5) */
        th.week {
            font-family: Impact, sans-serif;
            background-color:#1976d2;
            color: white;
        }

        /* 星期表頭(6.日)*/
        th.weekend { color: #ff5252; }

        /* 日期格 */
        .calendar-table td {
            border: 1px solid #e0e0e0;
            vertical-align: top;
            height: 100px;
            padding: 8px 4px;
            position: relative;
        }

        /* 格內日期 */
        .date_number { font-size: 15px; font-weight: bold; }
        /* 格內時數 */
        .attendance { font-size: 16px; font-weight: bold; text-align: center; margin: 8px 0; }
        
        /* 哨所名稱樣式 */
        .date_sentry {
            font-size: 14px;
            text-align: center;
            /* line-height: 1.2; */
            /* word-break: break-all; */
        }

        /*平板端RWD*/
        @media (max-width: 768px) {
            body { padding: 10px 0; } 
            
            .main-wrapper { 
                flex-direction: column; 
                gap: 12px;
            }
            /* 月曆塊 */
            .container_l {
                padding: 10px 5px; 
                border-radius: 0; 
            }

            .calendar-table td {
                height: 85px; 
            }
            /* 格內日期 */
            /* .date_number { font-size: 14px; } */
            /* 格內時數 */
            /* .attendance { font-size: 16px; margin: 10px 0; padding-bottom: 5px;} */
        }

        /*手機端RWD*/        
        @media (max-width: 480px) {
            .date_sentry {
                font-size: 13px;
                max-width: 2.1em; 
                margin: 0 auto;
            }
        }

        /* 已出勤(夜) */
        td.date_blue { background-color: lightblue; }
        /* 已出勤(日) */
        td.date_pink { background-color: lightpink; }

        /* 待休日 */
        span.rest { color: #ff5252; }
        /* 必修日 */
        span.rest_be {background: #ff5252; color: white; padding: 0 3px; border-radius: 3px; }

        /* 薪資明細 */
        .salary-table { width: 100%; border-collapse: collapse; }
        .salary-table td { padding: 12px 8px; border-bottom: 1px solid #e0e0e0; }
        .salary-table .data { text-align: right; font-weight: 600; }
        .salary-table tr:last-child td { color: #d81b60; font-size: 18px; border-bottom: none; }
        h2 { margin-top: 0; font-size: 20px; border-left: 4px solid #1976d2; padding-left: 10px; }
    </style>
</head>
<body>
<div id="login-overlay">
    <div class="login-box">
        <h2>請登錄</h2>
        <input type="text" id="username" class="login-input" placeholder="請輸入帳號" autocomplete="off">
        <input type="password" id="password" class="login-input" placeholder="請輸入密碼">
        <button class="login-btn" onclick="checkLogin()">確定</button>
    </div>
</div>

<div class="main-wrapper">
    <div class="container_l">
        <div class="calendar-nav">
            <div class="last_moon" a href="#">◀ 前1月</a></div>
            <div class="this_moon">林中山<br>2025-12</div>
            <div class="next_moon" a href="#">後1月 ▶</a></div>
        </div>

        <table class="calendar-table">
            <thead>
                <tr>
                    <th class="week weekend">日</th>
                    <th class="week">一</th>
                    <th class="week">二</th>
                    <th class="week">三</th>
                    <th class="week">四</th>
                    <th class="week">五</th>
                    <th class="week weekend">六</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                <td class="date">
                    <div class="date_number"></div>
                    <div class="attendance"></div>
                    <div class="date_sentry"></div>
                </td>
                <td class="date date_blue">
                    <div class="date_number">01</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">大台北控</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">02</div>
                    <div class="attendance">休</div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
                <td class="date date_blue">
                    <div class="date_number">03</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">新時代</div>
                    </div>
                </td>
                <td class="date date_blue">
                    <div class="date_number">04</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">永和世家</div>
                    </div>
                </td>
                <td class="date date_pink">
                    <div class="date_number">05</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">中山首府</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">06</div>
                    <div class="attendance">休</div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="date date_blue">
                    <div class="date_number">07</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">永和世家</div>
                    </div>
                </td>
                <td class="date date_blue">
                    <div class="date_number">08</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">永和世家</div>
                    </div>
                </td>
                <td class="date date_blue">
                    <div class="date_number">09</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">永和世家</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">10</div>
                    <div class="attendance">休</div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
                <td class="date date_pink">
                    <div class="date_number">11</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">藝術賞</div>
                    </div>
                </td>
                <td class="date date_pink">
                    <div class="date_number">12</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">藝術賞</div>
                    </div>
                </td>
                <td class="date date_pink">
                    <div class="date_number">13</div>
                    <div class="attendance">12</div>
                    <div class="date_sentry">藝術賞</div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="date">
                    <div class="date_number">14</div>
                    <div class="attendance"><span class="rest_be">休</span></div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">15</div>
                    <div class="attendance">夜</div>
                    <div class="date_sentry">中山首府</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">16</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">中山首府</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">17</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">永和世家</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">18</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">中山首府</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">19</div>
                    <div class="attendance"><span class="rest_be">休</span></div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">20</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">永和世家</div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="date">
                    <div class="date_number">21</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">永和世家</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">22</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">永和世家</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">23</div>
                    <div class="attendance"><span class="rest">休</span></div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">24</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">藝術賞</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">25</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">藝術賞</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">26</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">藝術賞</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">27</div>
                    <div class="attendance">夜</div>
                    <div class="date_sentry">藝術賞</div>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="date">
                    <div class="date_number">28</div>
                    <div class="attendance"><span class="rest">休</span></div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">29</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">敦南一品</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">30</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">敦南一品</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number">31</div>
                    <div class="attendance">日</div>
                    <div class="date_sentry">敦南一品</div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number"></div>
                    <div class="attendance"></div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number"></div>
                    <div class="attendance"></div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
                <td class="date">
                    <div class="date_number"></div>
                    <div class="attendance"></div>
                    <div class="date_sentry"></div>
                    </div>
                </td>
            </tr>
        </tbody>
        </table>
    </div>

    <div class="container_r">
        <h2>本月薪資明細</h2>
        <table class="salary-table">
            <tr>
                <td class="title">本月應休</td>
                <td class="data">大7小6</td>
            </tr>
            <tr>
                <td class="title">月薪</td>
                <td class="data">$36,000</td>
            </tr>
            <tr>
                <td class="title">互助金</td>
                <td class="data">-$200</td>
            </tr>
            <tr>
                <td class="title">綜合保險</td>
                <td class="data">-$300</td>
            </tr>
            <tr>
                <td class="title">實發薪資</td>
                <td class="data">$35,500</td>
            </tr>
        </table>
    </div>
</div>

<script>
function checkLogin() {
    const emp_no = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    // 發送請求到後端 PHP
    fetch('login.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            emp_no: emp_no,
            password: password
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            // 登錄成功：移除模糊層
            document.getElementById("login-overlay").style.display = "none";
            // 建議：可以用 sessionStorage 記住登錄狀態，防止刷新頁面後又要重新登錄
            sessionStorage.setItem('isLoggedIn', 'true');
        } else {
            // 登錄失敗
            alert(data.message);
            document.getElementById("password").value = "";
        }
    })
    .catch((error) => {
        console.error('Error:', error);
        alert("伺服器連線異常，請稍後再試");
    });
}

// 頁面加載時檢查是否已登錄（防止刷新後彈窗再出現）
window.onload = function() {
    if (sessionStorage.getItem('isLoggedIn') === 'true') {
        document.getElementById("login-overlay").style.display = "none";
    }
}
</script>
<!-- <script>
    function checkLogin() {
        // --- 設定你的帳號和密碼 ---
        const validUser = "admin";  // 設定正確帳號
        const validPass = "123456"; // 設定正確密碼
        // ------------------------

        // 獲取輸入的值
        const userInput = document.getElementById("username").value;
        const passInput = document.getElementById("password").value;

        // 檢查帳號密碼
        if (userInput === validUser && passInput === validPass) {
            // 登錄成功：隱藏遮罩層，顯示清晰頁面
            document.getElementById("login-overlay").style.display = "none";
        } else {
            // 登錄失敗：彈出提示，並清空密碼欄讓用戶重試
            alert("登錄失敗：帳號或密碼錯誤！");
            document.getElementById("password").value = ""; 
            // 這裡不做其他動作，遮罩層依然存在，符合「繼續跳出登錄彈窗」的需求
        }
    }
    
    // 增加一個小功能：在密碼框按 Enter 鍵也能觸發登錄
    document.getElementById("password").addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            checkLogin();
        }
    });
</script> -->
</body>
</html>